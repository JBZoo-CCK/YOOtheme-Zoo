/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

function selectZooItem(e,t,i){jQuery("#"+i+"_id").val(e);jQuery("#"+i+"_name").val(t);if(SqueezeBox.close){SqueezeBox.close()}else{$("sbox-window").close()}}(function(e){var t=function(){};e.extend(t.prototype,{name:"ZooApplication",options:{url:null,msgSelectItem:"Select Item"},initialize:function(t,i){this.options=e.extend({},this.options,i);var s=this;this.input=t;this.app=t.find("select.application");this.categories=t.find("div.categories");this.types=t.find("div.types");this.item=t.find("div.item");var n=t.find("select.mode");if(n.length){this.mode=n.val();n.bind("change",function(){s.mode=n.val();s.setValues()})}else if(this.categories.length){this.mode="categories"}else if(this.types.length){this.mode="types"}else if(this.item.length){this.mode="item"}this.setValues();this.app.bind("change",function(){s.setValues();if(s.item.length){s.item.find("input:hidden").val("");s.item.find("input:text").val(s.options.msgSelectItem)}});t.delegate("select","change",function(){e(this).closest("div.content").css("height","")});e(t.closest("form")).find("input[id$=mode]:hidden, input[id$=params_type]:hidden, input[id$=params_category]:hidden, input[id$=params_item_id]:hidden").each(function(){e(this).closest(".control-group").remove().end().remove()})},setValues:function(){var t=this.app.val();if(this.categories.length){if(t&&this.mode=="categories"){this.categories.removeClass("hidden")}else{this.categories.addClass("hidden")}this.input.find("select.category").each(function(){var i=e(this);if(i.hasClass("app-"+t)){i.removeClass("hidden").attr("name",i.data("category")).next(".chzn-container").removeClass("hidden")}else{i.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")}})}if(this.types.length){if(t&&this.mode=="types"){this.types.removeClass("hidden")}else{this.types.addClass("hidden")}this.input.find("select.type").each(function(){var i=e(this);if(i.hasClass("app-"+t)){i.removeClass("hidden").attr("name",i.data("type")).next(".chzn-container").removeClass("hidden")}else{i.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")}})}if(this.item.length){if(t&&this.mode=="item"){this.item.removeClass("hidden")}else{this.item.addClass("hidden")}this.item.find("a").attr("href",this.options.url+"&app_id="+t)}}});e.fn[t.prototype.name]=function(){var i=arguments;var s=i[0]?i[0]:null;return this.each(function(){var n=e(this);if(t.prototype[s]&&n.data(t.prototype.name)&&s!="initialize"){n.data(t.prototype.name)[s].apply(n.data(t.prototype.name),Array.prototype.slice.call(i,1))}else if(!s||e.isPlainObject(s)){var a=new t;if(t.prototype["initialize"]){a.initialize.apply(a,e.merge([n],i))}n.data(t.prototype.name,a)}else{e.error("Method "+s+" does not exist on jQuery."+t.name)}})}})(jQuery);