/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"ZooItemOrder",initialize:function(input){var $this=this;this.input=input;this.application=$("body").find(".zoo-application select.application");if(this.application.length){input.find("select.element, input:checkbox").each(function(){$(this).data("_name",$(this).attr("name"))});this.application.bind("change",function(){$this.refresh()});this.refresh()}},refresh:function(){var id=this.application.val();id?this.input.find(".select-message").hide().nextAll().show():this.input.find(".select-message").show().nextAll().hide();this.input.find(".apps .app").each(function(){var app=$(this);app.find("select.element, input:checkbox").attr("name",function(){return id&&app.hasClass(id)?$(this).data("_name"):""});id&&app.hasClass(id)?app.show():app.hide()})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);