/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};Plugin.prototype=$.extend(Plugin.prototype,{name:"ApplicationEdit",options:{url:"index.php?option=com_zoo&controller=configuration",application_id:0,application_group:""},initialize:function(input,options){this.options=$.extend({},this.options,options);var $this=this;var accordion=$("#parameter-accordion");var selectbox=$("#template");selectbox.bind("change",function(){var loader=$('<span class="loader">').insertAfter(selectbox);accordion.fadeOut();$.ajax({url:$this.options.url,data:{task:"getApplicationParams",format:"raw","cid[]":$this.options.application_id,group:$this.options.application_group,template:$(this).val()},success:function(data){accordion.html(data).fadeIn().accordionMenu({mode:"slide",display:0});loader.remove()}})})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);