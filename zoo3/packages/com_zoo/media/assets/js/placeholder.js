/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

jQuery(function(e){var t="placeholder"in document.createElement("input"),a="placeholder"in document.createElement("textarea");if(t&&a){e.fn.placeholder=function(){return this}}else{e.fn.placeholder=function(){return this.filter((t?"textarea":":input")+"[placeholder]").bind("focus.placeholder",r).bind("blur.placeholder",o).trigger("blur.placeholder").end()}}function l(t){var a={},l=/^jQuery\d+$/;e.each(t.attributes,function(e,t){if(t.specified&&!l.test(t.name)){a[t.name]=t.value}});return a}function r(){var t=e(this);if(t.val()===t.attr("placeholder")&&t.hasClass("placeholder")){if(t.data("placeholder-password")){t.hide().next().show().focus()}else{t.val("").removeClass("placeholder")}}}function o(t){var a,o=e(this);if(o.val()===""||o.val()===o.attr("placeholder")){if(o.is(":password")){if(!o.data("placeholder-textinput")){try{a=o.clone().attr({type:"text"})}catch(n){a=e("<input>").attr(e.extend(l(o[0]),{type:"text"}))}a.removeAttr("name").data("placeholder-password",true).bind("focus.placeholder",r);o.data("placeholder-textinput",a).before(a)}o=o.hide().prev().show()}o.addClass("placeholder").val(o.attr("placeholder"))}else{o.removeClass("placeholder")}}e(function(){e("form").bind("submit.placeholder",function(){var t=e(".placeholder",this).each(r);setTimeout(function(){t.each(o)},10)})});e(window).bind("unload.placeholder",function(){e(".placeholder").val("")})});