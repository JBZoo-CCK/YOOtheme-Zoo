/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"SubmissionMysubmissions",options:{msgDelete:"Are you sure you want to delete this submission?"},initialize:function(element,options){this.options=$.extend({},this.options,options);var $this=this;element.find(".submissions > *").each(function(){var item=$(this);item.find("h3.toggler:first").bind("click",function(){item.find("div.preview:first").toggleClass("hidden");if(typeof google!="undefined"&&typeof google.maps!="undefined"){$('[id^="googlemaps-"]').each(function(){if($(this).data("Googlemaps")){$(this).Googlemaps("refresh")}})}})});element.find("a.delete-item").each(function(){$(this).bind("click",function(event){if(!confirm($this.options.msgDelete)){event.preventDefault()}})})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"Submission",options:{uri:""},initialize:function(element,options){this.options=$.extend({},this.options,options);var $this=this;element.find("div.image a.modal-button").each(function(){if(!$(this).attr("href").match(new RegExp("^"+$this.options.uri))){$(this).attr("href",$this.options.uri+$(this).attr("href"))}})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"EditSubmission",options:{groups:[0]},initialize:function(input,options){this.options=$.extend({},this.options,options);var $this=this;this.input=input;$.each(["apply","save","save-new"],function(i,task){$("#toolbar-"+task+" a, #toolbar-"+task+" button").bind("validate.adminForm",function(event){if(input.find('input[name="name"]').val()==""){input.find("span.message-name").css("display","block");event.preventDefault()}})});$("#access").bind("change",function(){$this.setTrustedMode()});this.setTrustedMode()},setTrustedMode:function(){var input=this.input.find("input.trusted");if($.inArray($("#access").val(),this.options.groups)!==-1){input.attr("disabled","disabled");input.prop("checked","")}else{input.removeAttr("disabled")}}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);