/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"Calendar",options:{translations:[],timepicker_translations:[]},initialize:function(body,options){this.options=$.extend({},this.options,options);var $this=this;$.datepicker.regional["xx"]=$this.options.translations;$.datepicker.setDefaults($.datepicker.regional["xx"]);$.timepicker.regional["xx"]=$this.options.timepicker_translations;$.timepicker.setDefaults($.timepicker.regional["xx"]);body.delegate("img.zoo-calendar","click",function(){var input=$(this).prev("input");if(!input.length)return;if(input.data("timepicker")=="timepicker"){if(!$(this).data("initialized-timepicker")){input.datetimepicker({showOn:"button",dateFormat:$.datepicker.ISO_8601,constrainInput:false,timeFormat:"HH:mm:ss",showSecond:false});$(this).prevUntil("input").remove();$(this).data("initialized-timepicker",true)}input.datetimepicker("show")}else{if(!$(this).data("initialized-datepicker")){input.datepicker({showOn:"button",dateFormat:$.datepicker.ISO_8601,constrainInput:false});$(this).prevUntil("input").remove();$(this).data("initialized-datepicker",true)}input.datepicker("show")}})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);