/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(t){var e=function(){};t.extend(e.prototype,{name:"ElementRating",options:{url:null},initialize:function(e,n){this.options=t.extend({},this.options,n);var i=this,a=e.find("div.stars");a.each(function(n){t(this).bind("click",function(){var o=a.length-n;t.ajax({url:i.options.url,data:{method:"vote","args[0]":o},type:"post",datatype:"json",success:function(n){var i=t.parseJSON(n),a=i.value;a>0&&e.find("div.previous-rating").css("width",a+"%"),e.find("div.vote-message").text(i.message)}})}).bind("mouseenter",function(){t(this).addClass("hover")}).bind("mouseleave",function(){t(this).removeClass("hover")})})}}),t.fn[e.prototype.name]=function(){var n=arguments,i=n[0]?n[0]:null;return this.each(function(){var a=t(this);if(e.prototype[i]&&a.data(e.prototype.name)&&"initialize"!=i)a.data(e.prototype.name)[i].apply(a.data(e.prototype.name),Array.prototype.slice.call(n,1));else if(!i||t.isPlainObject(i)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,t.merge([a],n)),a.data(e.prototype.name,o)}else t.error("Method "+i+" does not exist on jQuery."+e.name)})}}(jQuery),function(t){var e=function(){};t.extend(e.prototype,{name:"EditElementRating",options:{url:null},initialize:function(e,n){this.options=t.extend({},this.options,n);var i=this;e.find('input[name="reset-rating"]').bind("click",function(){t.ajax({url:i.options.url+"&task=callelement&method=reset",success:function(t){e.replaceWith(t)}})})}}),t.fn[e.prototype.name]=function(){var n=arguments,i=n[0]?n[0]:null;return this.each(function(){var a=t(this);if(e.prototype[i]&&a.data(e.prototype.name)&&"initialize"!=i)a.data(e.prototype.name)[i].apply(a.data(e.prototype.name),Array.prototype.slice.call(n,1));else if(!i||t.isPlainObject(i)){var o=new e;e.prototype.initialize&&o.initialize.apply(o,t.merge([a],n)),a.data(e.prototype.name,o)}else t.error("Method "+i+" does not exist on jQuery."+e.name)})}}(jQuery);