/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"ElementMedia",initialize:function(element){var $this=this;this.file_row=element.find("input:text.file").parent();this.file_button=element.find(".trigger .file");this.url_row=element.find("input:text.url").parent();this.url_button=element.find(".trigger .url");this.url_row.css("margin-top","0");this.file_button.bind("click",function(){$this.file_row.prependTo(element);$this.url_row.detach();$this.file_button.hide();$this.url_button.show()});this.url_button.bind("click",function(){$this.file_row.detach();$this.url_row.prependTo(element);$this.file_button.show();$this.url_button.hide()});element.find("input:text.file").val()?this.file_button.trigger("click"):this.url_button.trigger("click")}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);