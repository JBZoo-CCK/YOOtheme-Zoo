/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function(t){var e=function(){};t.extend(e.prototype,{name:"SubmissionMysubmissions",options:{msgDelete:"Are you sure you want to delete this submission?"},initialize:function(e,i){this.options=t.extend({},this.options,i);var n=this;e.find(".submissions > *").each(function(){var e=t(this);e.find("h3.toggler:first").bind("click",function(){e.find("div.preview:first").toggleClass("hidden");if(typeof google!="undefined"&&typeof google.maps!="undefined"){t('[id^="googlemaps-"]').each(function(){if(t(this).data("Googlemaps")){t(this).Googlemaps("refresh")}})}})});e.find("a.delete-item").each(function(){t(this).bind("click",function(t){if(!confirm(n.options.msgDelete)){t.preventDefault()}})})}});t.fn[e.prototype.name]=function(){var i=arguments;var n=i[0]?i[0]:null;return this.each(function(){var o=t(this);if(e.prototype[n]&&o.data(e.prototype.name)&&n!="initialize"){o.data(e.prototype.name)[n].apply(o.data(e.prototype.name),Array.prototype.slice.call(i,1))}else if(!n||t.isPlainObject(n)){var a=new e;if(e.prototype["initialize"]){a.initialize.apply(a,t.merge([o],i))}o.data(e.prototype.name,a)}else{t.error("Method "+n+" does not exist on jQuery."+e.name)}})}})(jQuery);(function(t){var e=function(){};t.extend(e.prototype,{name:"Submission",options:{uri:""},initialize:function(e,i){this.options=t.extend({},this.options,i);var n=this;e.find("div.image a.modal-button").each(function(){if(!t(this).attr("href").match(new RegExp("^"+n.options.uri))){t(this).attr("href",n.options.uri+t(this).attr("href"))}})}});t.fn[e.prototype.name]=function(){var i=arguments;var n=i[0]?i[0]:null;return this.each(function(){var o=t(this);if(e.prototype[n]&&o.data(e.prototype.name)&&n!="initialize"){o.data(e.prototype.name)[n].apply(o.data(e.prototype.name),Array.prototype.slice.call(i,1))}else if(!n||t.isPlainObject(n)){var a=new e;if(e.prototype["initialize"]){a.initialize.apply(a,t.merge([o],i))}o.data(e.prototype.name,a)}else{t.error("Method "+n+" does not exist on jQuery."+e.name)}})}})(jQuery);(function(t){var e=function(){};t.extend(e.prototype,{name:"EditSubmission",options:{groups:[0]},initialize:function(e,i){this.options=t.extend({},this.options,i);var n=this;this.input=e;t.each(["apply","save","save-new"],function(i,n){t("#toolbar-"+n+" a, #toolbar-"+n+" button").bind("validate.adminForm",function(t){if(e.find('input[name="name"]').val()==""){e.find("span.message-name").css("display","block");t.preventDefault()}})});t("#access").bind("change",function(){n.setTrustedMode()});this.setTrustedMode()},setTrustedMode:function(){var e=this.input.find("input.trusted");if(!t.inArray(t("#access").val(),this.options.groups)){e.attr("disabled","disabled");e.attr("checked","")}else{e.removeAttr("disabled")}}});t.fn[e.prototype.name]=function(){var i=arguments;var n=i[0]?i[0]:null;return this.each(function(){var o=t(this);if(e.prototype[n]&&o.data(e.prototype.name)&&n!="initialize"){o.data(e.prototype.name)[n].apply(o.data(e.prototype.name),Array.prototype.slice.call(i,1))}else if(!n||t.isPlainObject(n)){var a=new e;if(e.prototype["initialize"]){a.initialize.apply(a,t.merge([o],i))}o.data(e.prototype.name,a)}else{t.error("Method "+n+" does not exist on jQuery."+e.name)}})}})(jQuery);