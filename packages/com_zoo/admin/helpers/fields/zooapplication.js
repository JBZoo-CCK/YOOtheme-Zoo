/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

function selectZooItem(e,t,i){jQuery("#"+i+"_id").val(e),jQuery("#"+i+"_name").val(t),jModalClose()}!function(e){var t=function(){};e.extend(t.prototype,{name:"ZooApplication",options:{url:null,msgSelectItem:"Select Item"},initialize:function(t,i){this.options=e.extend({},this.options,i);var n=this;this.input=t,this.app=t.find("select.application"),this.categories=t.find("div.categories"),this.types=t.find("div.types"),this.item=t.find("div.item");var s=t.find("select.mode");s.length?(this.mode=s.val(),s.bind("change",function(){n.mode=s.val(),n.setValues()})):this.categories.length?this.mode="categories":this.types.length?this.mode="types":this.item.length&&(this.mode="item"),this.setValues(),this.app.bind("change",function(){n.setValues(),n.item.length&&(n.item.find("input:hidden").val(""),n.item.find("input:text").val(n.options.msgSelectItem))}),t.delegate("select","change",function(){e(this).closest("div.content").css("height","")}),e(t.closest("form")).find("input[id$=mode]:hidden, input[id$=params_type]:hidden, input[id$=params_category]:hidden, input[id$=params_item_id]:hidden").each(function(){e(this).closest(".control-group").remove().end().remove()})},setValues:function(){var t=this.app.val();this.categories.length&&(t&&"categories"==this.mode?this.categories.removeClass("hidden"):this.categories.addClass("hidden"),this.input.find("select.category").each(function(){var i=e(this);i.hasClass("app-"+t)?i.removeClass("hidden").attr("name",i.data("category")).next(".chzn-container").removeClass("hidden"):i.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})),this.types.length&&(t&&"types"==this.mode?this.types.removeClass("hidden"):this.types.addClass("hidden"),this.input.find("select.type").each(function(){var i=e(this);i.hasClass("app-"+t)?i.removeClass("hidden").attr("name",i.data("type")).next(".chzn-container").removeClass("hidden"):i.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})),this.item.length&&(t&&"item"==this.mode?this.item.removeClass("hidden"):this.item.addClass("hidden"),this.item.find("a").attr("href",this.options.url+"&app_id="+t))}}),e.fn[t.prototype.name]=function(){var i=arguments,n=i[0]?i[0]:null;return this.each(function(){var s=e(this);if(t.prototype[n]&&s.data(t.prototype.name)&&"initialize"!=n)s.data(t.prototype.name)[n].apply(s.data(t.prototype.name),Array.prototype.slice.call(i,1));else if(!n||e.isPlainObject(n)){var a=new t;t.prototype.initialize&&a.initialize.apply(a,e.merge([s],i)),s.data(t.prototype.name,a)}else e.error("Method "+n+" does not exist on jQuery."+t.name)})}}(jQuery);